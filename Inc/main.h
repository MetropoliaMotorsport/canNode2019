#ifndef __MAIN_H
#define __MAIN_H

#ifdef __cplusplus
extern "C" {
#endif



//includes
#include "stm32f1xx_hal.h"

//definitions
#define WATCHDOG 0

#define ADC1_INPUTS_NUMB_MAX 9

//flash address definitions
#define ADC_ENABLES_POS 0
#define CAN_ID_POS 1
#define ADC1_INPUTS_NUMB_POS 2
#define CAN_DLC_POS 3
#define MESSAGE_TIM_PERIOD_POS 4
#define ADC_SAMPLE_RATE_POS 5

#define ADC_ENABLES (*(uint32_t*)(FLASH_PAGE_63+0x4*ADC_ENABLES_POS))
#define CAN_ID (*(uint32_t*)(FLASH_PAGE_63+0x4*CAN_ID_POS))
#define ADC1_INPUTS_NUMB (*(uint32_t*)(FLASH_PAGE_63+0x4*ADC1_INPUTS_NUMB_POS))
#define CAN_DLC (*(uint32_t*)(FLASH_PAGE_63+0x4*CAN_DLC_POS))
#define MESSAGE_TIM_PERIOD (*(uint32_t*)(FLASH_PAGE_63+0x4*MESSAGE_TIM_PERIOD_POS))
#define ADC_SAMPLE_RATE (*(uint32_t*)(FLASH_PAGE_63+0x4*ADC_SAMPLE_RATE_POS))

//exported function prototypes
void Error_Handler(void);



//flash page definitions
#define FLASH_PAGE_0 0x8000000
#define FLASH_PAGE_1 FLASH_PAGE_0+0x400
#define FLASH_PAGE_2 FLASH_PAGE_1+0x400
#define FLASH_PAGE_3 FLASH_PAGE_2+0x400
#define FLASH_PAGE_4 FLASH_PAGE_3+0x400
#define FLASH_PAGE_5 FLASH_PAGE_4+0x400
#define FLASH_PAGE_6 FLASH_PAGE_5+0x400
#define FLASH_PAGE_7 FLASH_PAGE_6+0x400
#define FLASH_PAGE_8 FLASH_PAGE_7+0x400
#define FLASH_PAGE_9 FLASH_PAGE_8+0x400
#define FLASH_PAGE_10 FLASH_PAGE_9+0x400
#define FLASH_PAGE_11 FLASH_PAGE_10+0x400
#define FLASH_PAGE_12 FLASH_PAGE_11+0x400
#define FLASH_PAGE_13 FLASH_PAGE_12+0x400
#define FLASH_PAGE_14 FLASH_PAGE_13+0x400
#define FLASH_PAGE_15 FLASH_PAGE_14+0x400
#define FLASH_PAGE_16 FLASH_PAGE_15+0x400
#define FLASH_PAGE_17 FLASH_PAGE_16+0x400
#define FLASH_PAGE_18 FLASH_PAGE_17+0x400
#define FLASH_PAGE_19 FLASH_PAGE_18+0x400
#define FLASH_PAGE_20 FLASH_PAGE_19+0x400
#define FLASH_PAGE_21 FLASH_PAGE_20+0x400
#define FLASH_PAGE_22 FLASH_PAGE_21+0x400
#define FLASH_PAGE_23 FLASH_PAGE_22+0x400
#define FLASH_PAGE_24 FLASH_PAGE_23+0x400
#define FLASH_PAGE_25 FLASH_PAGE_24+0x400
#define FLASH_PAGE_26 FLASH_PAGE_25+0x400
#define FLASH_PAGE_27 FLASH_PAGE_26+0x400
#define FLASH_PAGE_28 FLASH_PAGE_27+0x400
#define FLASH_PAGE_29 FLASH_PAGE_28+0x400
#define FLASH_PAGE_30 FLASH_PAGE_29+0x400
#define FLASH_PAGE_31 FLASH_PAGE_30+0x400
#define FLASH_PAGE_32 FLASH_PAGE_31+0x400
#define FLASH_PAGE_33 FLASH_PAGE_32+0x400
#define FLASH_PAGE_34 FLASH_PAGE_33+0x400
#define FLASH_PAGE_35 FLASH_PAGE_34+0x400
#define FLASH_PAGE_36 FLASH_PAGE_35+0x400
#define FLASH_PAGE_37 FLASH_PAGE_36+0x400
#define FLASH_PAGE_38 FLASH_PAGE_37+0x400
#define FLASH_PAGE_39 FLASH_PAGE_38+0x400
#define FLASH_PAGE_40 FLASH_PAGE_39+0x400
#define FLASH_PAGE_41 FLASH_PAGE_40+0x400
#define FLASH_PAGE_42 FLASH_PAGE_41+0x400
#define FLASH_PAGE_43 FLASH_PAGE_42+0x400
#define FLASH_PAGE_44 FLASH_PAGE_43+0x400
#define FLASH_PAGE_45 FLASH_PAGE_44+0x400
#define FLASH_PAGE_46 FLASH_PAGE_45+0x400
#define FLASH_PAGE_47 FLASH_PAGE_46+0x400
#define FLASH_PAGE_48 FLASH_PAGE_47+0x400
#define FLASH_PAGE_49 FLASH_PAGE_48+0x400
#define FLASH_PAGE_50 FLASH_PAGE_49+0x400
#define FLASH_PAGE_51 FLASH_PAGE_50+0x400
#define FLASH_PAGE_52 FLASH_PAGE_51+0x400
#define FLASH_PAGE_53 FLASH_PAGE_52+0x400
#define FLASH_PAGE_54 FLASH_PAGE_53+0x400
#define FLASH_PAGE_55 FLASH_PAGE_54+0x400
#define FLASH_PAGE_56 FLASH_PAGE_55+0x400
#define FLASH_PAGE_57 FLASH_PAGE_56+0x400
#define FLASH_PAGE_58 FLASH_PAGE_57+0x400
#define FLASH_PAGE_59 FLASH_PAGE_58+0x400
#define FLASH_PAGE_60 FLASH_PAGE_59+0x400
#define FLASH_PAGE_61 FLASH_PAGE_60+0x400
#define FLASH_PAGE_62 FLASH_PAGE_61+0x400
#define FLASH_PAGE_63 FLASH_PAGE_62+0x400



#ifdef __cplusplus
}
#endif

#endif
